{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="card">
    <h1>üé® –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Design.pro!</h1>
    <p style="text-align: center; font-size: 1.2rem; margin-bottom: 2rem;">–°—Ç—É–¥–∏—è –¥–∏–∑–∞–π–Ω–∞ –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤</p>

    <div class="grid">
        <div class="feature-card">
            <h3>üè† –°–æ–∑–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É</h3>
            <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–ª–∞–Ω –ø–æ–º–µ—â–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω</p>
        </div>
        <div class="feature-card">
            <h3>üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç—É—Å</h3>
            <p>–°–ª–µ–¥–∏—Ç–µ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –≤–∞—à–µ–π –∑–∞—è–≤–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
        </div>
        <div class="feature-card">
            <h3>‚≠ê –ì–æ—Ç–æ–≤—ã–µ —Ä–∞–±–æ—Ç—ã</h3>
            <p>–í–¥–æ—Ö–Ω–æ–≤–ª—è–π—Ç–µ—Å—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –Ω–∞—à–µ–π —Å—Ç—É–¥–∏–∏</p>
        </div>
    </div>
</div>

<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h2>üöÄ –ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã</h2>
        <div style="background: #764ba2; color: white; padding: 0.5rem 1rem; border-radius: 20px; font-weight: bold;">
            –í —Ä–∞–±–æ—Ç–µ: {{ in_progress_count }}
        </div>
    </div>
</div>

{% if completed_applications %}
<div class="card">
    <h2>üéâ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã</h2>
    <div class="grid">
        {% for app in completed_applications %}
        <div class="feature-card">
            {% if app.image %}
                <img src="{{ app.image.url }}"
                     alt="{{ app.title }}"
                     style="width: 100%; height: 200px; object-fit: cover; border-radius: 10px; margin-bottom: 1rem;">
            {% else %}
                <div style="width: 100%; height: 200px; background: #f0f0f0; border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-bottom: 1rem;">
                    <span>üì∑ –ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
                </div>
            {% endif %}

            <h4>{{ app.title }}</h4>
            <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> {{ app.category.name }}</p>
            <p><strong>–î–∞—Ç–∞:</strong> {{ app.created_at|date:"d.m.Y" }}</p>

            {% if app.design_image %}
                <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong></p>
                <img src="{{ app.design_image.url }}"
                     alt="–î–∏–∑–∞–π–Ω {{ app.title }}"
                     style="width: 100%; height: 150px; object-fit: cover; border-radius: 8px; border: 2px solid #764ba2;">
            {% endif %}
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

<div style="text-align: center; margin-top: 2rem;">
    {% if user.is_authenticated %}
        <a href="{% url 'create_application' %}" class="btn">‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É</a>
    {% else %}
        <a href="{% url 'register' %}" class="btn">üöÄ –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É</a>
    {% endif %}
</div>
{% endblock %}